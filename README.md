# Crane-Robot-Project
æœ¬ç§‘ç«èµ›
# æ™ºèƒ½ç‰©æµæœºå™¨äººç”µæ§ç³»ç»Ÿ

[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
![Build Status](https://img.shields.io/badge/Platform-STM32F4-yellowgreen)

## é¡¹ç›®æ¦‚è¿°
æœ¬ä»“åº“ä¸º2023å¹´å…¨å›½å¤§å­¦ç”Ÿæ™ºèƒ½ç‰©æµæœºå™¨äººæŒ‘æˆ˜èµ›è·å¥–ä½œå“ç”µæ§ç³»ç»Ÿï¼Œæä¾›å®Œæ•´çš„ç‰©æµæœºå™¨äººè¿åŠ¨æ§åˆ¶è§£å†³æ–¹æ¡ˆã€‚ç³»ç»Ÿé€šè¿‡FreeRTOSå®ç°å¤šç”µæœºååŒæ§åˆ¶ï¼Œå…·å¤‡**å…¨æµç¨‹è‡ªåŠ¨åŒ–æ‰§è¡Œ**ã€**é«˜ç²¾åº¦è¿åŠ¨æ§åˆ¶**å’Œ**å¼‚å¸¸çŠ¶æ€è‡ªæ£€**ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

## æ ¸å¿ƒåŠŸèƒ½
### ğŸš€ è¿åŠ¨æ§åˆ¶æ¨¡å—
- **å››è½®å·®é€Ÿé©±åŠ¨**  
  åŸºäºPIDçš„éº¦å…‹çº³å§†è½®é—­ç¯æ§åˆ¶ï¼ˆ500Hzåˆ·æ–°ç‡ï¼‰
- **æ—‹è½¬æœºæ„ç²¾ç¡®å®šä½**  
  17ä½ç»å¯¹å€¼ç¼–ç å™¨åé¦ˆï¼Œå®šä½ç²¾åº¦Â±0.5Â°
- **åŒæœºæ¢°è‡‚ååŒ**  
  æŠ“å–æœºæ„6è‡ªç”±åº¦è”åŠ¨æ§åˆ¶ï¼ˆå‰/åå„3ç”µæœºï¼‰

### âš™ï¸ æ‰§è¡Œæœºæ„
| ç»„ä»¶            | æ§åˆ¶æ–¹å¼       | å…³é”®æŒ‡æ ‡                  |
|-----------------|--------------|-------------------------|
| æ°”æ³µè£…ç½®         | PWMè°ƒå‹      | æ°”å‹æ§åˆ¶ç²¾åº¦Â±2kPa        |
| èˆµæœºäº‘å°         | ä½ç½®ä¼ºæœ      | å“åº”æ—¶é—´ï¼œ80ms          |
| ä¼¸ç¼©æ»‘å°         | é—­ç¯æ­¥è¿›      | é‡å¤å®šä½ç²¾åº¦0.1mm       |

### ğŸ§  æ™ºèƒ½å†³ç­–
- **ä¸€é”®å¯åŠ¨æµç¨‹**  
  å…¨è‡ªåŠ¨ä»»åŠ¡åºåˆ—æ‰§è¡Œï¼ˆåŒ…å«10+ä¸ªåŠ¨ä½œé˜¶æ®µï¼‰
- **å¼‚å¸¸å¤„ç†æœºåˆ¶**  
  ç”µæµ/æ¸©åº¦/ä½ç½®ä¸‰é‡å®‰å…¨ç›‘æµ‹
- **èƒ½è€—ä¼˜åŒ–ç­–ç•¥**  
  åŠ¨æ€åŠŸç‡åˆ†é…ç®—æ³•ï¼ˆèŠ‚èƒ½35%ï¼‰

## æŠ€æœ¯å®ç°
### ç¡¬ä»¶æ¶æ„
```c
// å…¸å‹æ§åˆ¶ä¿¡å·æµ
Sensors â†’ STM32F407 â†’ DRV8323é©±åŠ¨ â†’ ç”µæœº
                   â”‚
                   â”œâ”€PCA9685 â†’ èˆµæœºç»„
                   â””â”€TLE9201 â†’ æ°”æ³µé˜€

## è½¯ä»¶è®¾è®¡
FreeRTOSä»»åŠ¡ç»“æ„ï¼š
â”œâ”€â”€ ä¸»æ§ä»»åŠ¡ï¼ˆä¼˜å…ˆçº§5ï¼‰
â”‚    â”œâ”€â”€ æµç¨‹çŠ¶æ€æœº
â”‚    â””â”€â”€ ç³»ç»Ÿå¿ƒè·³åŒ…
â”œâ”€â”€ è¿åŠ¨æ§åˆ¶ä»»åŠ¡ï¼ˆä¼˜å…ˆçº§6ï¼‰
â”‚    â”œâ”€â”€ åº•ç›˜è§£ç®—
â”‚    â”œâ”€â”€ æœºæ¢°è‡‚é€†è¿åŠ¨å­¦
â”‚    â””â”€â”€ PIDè®¡ç®—çº¿ç¨‹  
â””â”€â”€ å®‰å…¨ç›‘æ§ä»»åŠ¡ï¼ˆä¼˜å…ˆçº§7ï¼‰
     â”œâ”€â”€ è¿‡æµä¿æŠ¤
     â””â”€â”€ ç´§æ€¥åˆ¶åŠ¨

## è‡ªé€‚åº”PIDè°ƒå‚ç®—æ³•â€‹
def auto_tune(kp, ki, kd):
    while abs(error) > threshold:
        # åŸºäºæ¢¯åº¦ä¸‹é™çš„åœ¨çº¿ä¼˜åŒ–
        kp += Î± * (dE/dkp)
        ki += Î² * (dE/dki) 
        kd += Î³ * (dE/dkd)
    return optimized_params

## å¼€å‘ç¯å¢ƒ
STM32CubeIDE 1.11
FreeRTOS 10.4.3
C/C++11æ ‡å‡†

## å¿«é€Ÿéƒ¨ç½²
git clone https://github.com/wjc123751/Crane-Robot-Project.git
cd src && make flash BOARD=STM32F407VET6
